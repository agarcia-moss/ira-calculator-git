appId: com.ira.calculator
productName: IRA Calculator
copyright: Copyright Â© ${year} ${author}

directories:
  output: dist
  buildResources: build

# Include version and architecture in artifact names

# Files to include in the build
files:
  - build/**/*
  - "!build/static/js/*.map"
  - "!build/static/css/*.map"
  - public/electron.js
  - public/preload.js
  - public/transparent_moss.png
  - app-update.yml
  - node_modules/electron-log/**/*
  - node_modules/electron-updater/**/*

asar: true
asarUnpack:
  - "**/*.node"

# macOS specific
mac:
  category: public.app-category.productivity
  artifactName: ${productName}-${version}-${arch}.${ext}
  hardenedRuntime: true
  gatekeeperAssess: false
  target:
    - target: dmg
      arch: [x64, arm64]
    - target: zip
      arch: [x64, arm64]
  icon: public/transparent_moss.png

dmg:
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications
  window:
    width: 540
    height: 380

# Auto-update configuration
publish:
  - provider: github
    owner: agarcia-moss
    repo: ira-calculator-git
    releaseType: release
    private: false

# Code signing (optional - requires certificates)
# mac:
#   identity: "Developer ID Application: Your Name (XXXXXXXXXX)"
#   notarize:
#     appleId: your-apple-id@example.com
#     appleIdPassword: "@keychain:AC_PASSWORD"
#     teamId: XXXXXXXXXX
